<html>
<head>
  <title>Wild Fire</title>
   
  <link rel="stylesheet" href="./Leaflet-1.0.3/leaflet.css"/>
  <script src="./Leaflet-1.0.3/leaflet.js"></script>
  <script src="./Leaflet.heat-gh-pages/dist/leaflet-heat.js"></script> 
   <img src= "logo2.png" width="200" height="81">
  <style>
    #aerismap{ 
        height: 800px;
        width: 1000px;}
  </style>
<p>
    WildFire, a predictive wildfire based service using data analysis of fire data from the last 20 years 
</p>
    
    
    <style>
div.fixed {
  position: fixed;
  top: 40;
  left: 1050;
  width: 600px;
  height: 900px;
  border: 3px solid #73AD21;
}
        
        
.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 99%;
  height: 25px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  background: #4CAF50;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #4CAF50;
  cursor: pointer;
}
</style>
    
    
</head>
<body bgcolor = "#b5b832">
<div class="fixed">
<b>Data Manipulation</b>
    <p><center>Specific year data (2000-2019, 2019 is current)</center></p>
  <input type="range" min="2000" max="2019" value="2019" class="slider" id="myRange">
    
     <p><center>Confidence threshold (20%-80%)</center></p>
  <input type="range" min="20" max="80" value="70" class="slider" id="myRange">
</div>

  <div id="aerismap"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
var request = new XMLHttpRequest()



request.open('GET', '/api', true)
request.onload = function() {
	

  // Begin accessing JSON data here
  var data = JSON.parse(this.response)
  console.log(data)
  
  
  var addressPoints2 = data
//var heat = L.heatLayer(addressPoints2).addTo(map);
var heat = L.heatLayer(addressPoints2, {radius: 8}).addTo(map);
      /*var i;
      for(i = 0; i < addressPoints2.length; i++)
          {
            L.marker(addressPoints2[i].slice(0,2))
                .addTo(map)
                .bindPopup('1')
          }*/
    
}

request.send()

      
 var map = L.map('aerismap').setView([37.96, -120.27], 7);

 L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);
      
var stationIcon = L.icon({
      iconUrl: 'fire.png',
      iconSize: [30,30]
    });  
L.marker([38.8894207167, -119.4015351167],{icon: stationIcon}).addTo(map)
      

  </script>
</body>
</html>